{"version":3,"sources":["webpack:///../docs/best_practices/es.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"0eAMO,IAAMA,EAAe,Q,4MAE5B,IAKMC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,E,oIACF,mBACD,OAAO,YAACJ,EAAD,KAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAG5E,iBAAQ,CACN,GAAM,4BADR,6BAGA,sBACE,kBAAIC,WAAW,MACb,iBAAGA,WAAW,MAAd,2DAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,mCAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,wCACA,kBAAIA,WAAW,MACb,kBAAIA,WAAW,MAAf,uEAGJ,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,sDAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,kBAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,kFAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,sDACA,kBAAIA,WAAW,MACb,kBAAIA,WAAW,MAAf,4CACA,kBAAIA,WAAW,MAAf,iHAIJ,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,6HAGF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,kFAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,2UAMF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAK,mBAAGA,WAAW,KAAQ,CACrC,KAAQ,sDADO,uCAAnB,KAGA,iBAAGA,WAAW,MAAd,OACA,mBAAKA,WAAW,MAAK,sBAAMA,WAAW,OAAU,CAC5C,UAAa,wBADI,sVAiBrB,iBAAGA,WAAW,MAAd,OACA,mBAAKA,WAAW,MAAK,sBAAMA,WAAW,OAAU,CAC5C,UAAa,wBADI,kUAerB,iBAAGA,WAAW,MAAd,OAA2B,0BAAYA,WAAW,KAAvB,WAA3B,0FAEA,iBAAGA,WAAW,MAAd,kJAGA,iBAAGA,WAAW,MAAd,kFACC,mBAAGA,WAAW,KAAQ,CACnB,KAAQ,wEADX,uBADD,0CAI+B,0BAAYA,WAAW,KAAvB,SAJ/B,cAI+F,0BAAYA,WAAW,KAAvB,SAJ/F,yDAKsB,0BAAYA,WAAW,KAAvB,SALtB,oEAK4I,0BAAYA,WAAW,KAAvB,SAL5I,0IAM8H,0BAAYA,WAAW,KAAvB,qCAN9H,QASJ,iBAAQ,CACN,GAAM,SADR,SAGA,sBACE,kBAAIA,WAAW,MAAf,+BACA,kBAAIA,WAAW,MAAf,sBACA,kBAAIA,WAAW,MAAf,iBACA,kBAAIA,WAAW,MAAf,iDACA,kBAAIA,WAAW,MAAf,qDACA,kBAAIA,WAAW,MAAf,qFACA,kBAAIA,WAAW,MAAf,sHAEA,kBAAIA,WAAW,MAAf,2CAEF,iBAAQ,CACN,GAAM,sBADR,uBAGA,sBACE,kBAAIA,WAAW,MAAf,uE,mMAMNJ,EAAWK,gBAAiB","file":"component---docs-best-practices-es-mdx-df94938a0468521f8c25.js","sourcesContent":["import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/bestpractice/bestpractice/site/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"ecmascriptjs-conventions\"\n    }}>{`ECMAScript/JS conventions`}</h1>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`ES7 (with babel and polyfills), not Flow or TypeScript`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`eslint with airbnb style guide`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`yarn and webpack, not bower or grunt`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Additional webpack modules need to go through architecture review`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`piwik for analytics and Sentry for error tracking`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`travis for CI`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Use browserstack/saucelabs or similar to test mainstream browsers and devices`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Create a visual style guide with the UI components`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Test the components visually with gemini`}</li>\n          <li parentName=\"ul\">{`A single page with all the components for human consumption,\nseparate pages with component per page for CI`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`process.env can be read only from one file,\nseparate ENVs that are read only build time and those that are read runtime`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Avoid using target=\"`}{`_`}{`blank\", and if you do, use noreferrer and noopener`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Do not include node`}{`_`}{`modules in source.\nIf you need to build something custom, built it properly so that any (sub)dependencies\ndo not get locked.\nIf you need to patch upstream versions, make PRs upstream and document the related PR to\nthe repo so that the hacked version can be changed back to the official one later.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"https://mathiasbynens.be/notes/async-stack-traces\"\n          }}>{`Use await/async instead of Promises`}</a>{`.`}</p>\n        <p parentName=\"li\">{`Not`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-javascript\"\n          }}>{`const fetchAndDisplay = ({ url, element }) => {\n  showLoadingSpinner();\n  fetch(url)\n    .then((response) => response.text())\n    .then((text) => {\n      element.textContent = text;\n    })\n    .catch((error) => {\n      element.textContent = error.message;\n    })\n    .finally(() => {\n      hideLoadingSpinner();\n    });\n};\n`}</code></pre>\n        <p parentName=\"li\">{`but`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-javascript\"\n          }}>{`const fetchAndDisplay = async ({ url, element }) => {\n  showLoadingSpinner();\n  try {\n    const response = await fetch(url);\n    const text = await response.text();\n    element.textContent = text;\n  } catch (error) {\n    element.textContent = error.message;\n  } finally {\n    hideLoadingSpinner();\n  }\n};\n`}</code></pre>\n        <p parentName=\"li\">{`Use `}<inlineCode parentName=\"p\">{`finally`}</inlineCode>{` to avoid code duplication and to semantically\nseparate cleanup from the other parts.`}</p>\n        <p parentName=\"li\">{`If you need to run the Promises in parallel,\ncreate the promises first and then await for them in a loop,\nor use Promise.all() (or .race()).`}</p>\n        <p parentName=\"li\">{`If for some reason you really do need to use the Promise API directly,\nbeware `}<a parentName=\"p\" {...{\n            \"href\": \"https://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html\"\n          }}>{`the various gotchas`}</a>{`\nlike promise results falling through `}<inlineCode parentName=\"p\">{`.then`}</inlineCode>{`s when the `}<inlineCode parentName=\"p\">{`.then`}</inlineCode>{` doesn't get a function,\nor how the error handler in `}<inlineCode parentName=\"p\">{`.then`}</inlineCode>{` doesn't catch errors coming from the result handler in the same `}<inlineCode parentName=\"p\">{`.then`}</inlineCode>{`.\nAnd especially always catch the errors, as otherwise they will go to a black hole and you'll never hear from them (at least write a `}<inlineCode parentName=\"p\">{`.catch(console.log.bind(console))`}</inlineCode>{`).`}</p>\n      </li>\n    </ul>\n    <h4 {...{\n      \"id\": \"react\"\n    }}>{`React`}</h4>\n    <ul>\n      <li parentName=\"ul\">{`react-intl for translations`}</li>\n      <li parentName=\"ul\">{`redux as the store`}</li>\n      <li parentName=\"ul\">{`redux-actions`}</li>\n      <li parentName=\"ul\">{`redux-promise, saga or thunk (needs comments)`}</li>\n      <li parentName=\"ul\">{`Separate API HTTP calls to a separate module/file`}</li>\n      <li parentName=\"ul\">{`Put component specific styling next to component ES code using webpack css-loader`}</li>\n      <li parentName=\"ul\">{`export defaults with same name as the file\n(or the containing folder if using index.js inside a component folder)`}</li>\n      <li parentName=\"ul\">{`Write tests with jest, chai and enzyme`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"open-issues--ideas\"\n    }}>{`Open issues / ideas`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Chrome Lighthouse (analyses, but are weak points worth pursuing?)`}</li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}